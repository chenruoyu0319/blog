(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{255:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"idea启动spring-boot项目提示-missing-embeddedservlet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#idea启动spring-boot项目提示-missing-embeddedservlet","aria-hidden":"true"}},[t._v("#")]),t._v(" IDEA启动Spring Boot项目提示 missing EmbeddedServlet")]),t._v(" "),a("blockquote",[a("p",[t._v("导入一个"),a("code",[t._v("gradle")]),t._v(" 的"),a("code",[t._v("Spring Boot")]),t._v("项目，在启动的时候先提示找不到"),a("code",[t._v("HttpServletRequest")]),t._v("这个包，错误如下：")])]),t._v(" "),a("div",{staticClass:"language-log extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Caused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpServletRequest\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381) ~[na:1.8.0_45]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424) ~[na:1.8.0_45]\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331) ~[na:1.8.0_45]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357) ~[na:1.8.0_45]\n    ... 29 common frames omitted\n\n")])])]),a("blockquote",[a("p",[t._v("但是相应的Java代码没有报错，所以单独找了"),a("code",[t._v("servlet-api.jar")]),t._v("导入，并将其添加到"),a("code",[t._v("Module")]),t._v("中，但是导入后出现另一个错误：")])]),t._v(" "),a("div",{staticClass:"language-log extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("org.springframework.context.ApplicationContextException: Unable to start embedded container; nested exception is org.springframework.context.ApplicationContextException: Unable to start EmbeddedWebApplicationContext due to missing EmbeddedServletContainerFactory bean.\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.onRefresh(EmbeddedWebApplicationContext.java:137) ~[spring-boot-1.5.2.RELEASE.jar:1.5.2.RELEASE]\n....\n")])])]),a("p",[t._v("找了很久都没有找到解决的方法，但是使用"),a("code",[t._v("gradle bootrun")]),t._v("是可以正常启动运行的，在另外一台机子上也没有任何问题，所以认为项目本身没有任何问题，是在IDEA启动的过程中出现了问题导致的，")]),t._v(" "),a("p",[t._v("看到有一篇使用"),a("code",[t._v("Maven")]),t._v("也遇到该问题的帖子，对比了依赖：")]),t._v(" "),a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[t._v("dependencies "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.mybatis.spring.boot:mybatis-spring-boot-starter:1.2.0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("compile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-web'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("runtime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'mysql:mysql-connector-java'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("testCompile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this is for generate war file")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("providedRuntime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'org.springframework.boot:spring-boot-starter-tomcat'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("然后将"),a("code",[t._v("providedRuntime")]),t._v("改成了"),a("code",[t._v("runtime")]),t._v("，重新"),a("code",[t._v("build")]),t._v("启动，没有任何问题，该问题产生的原因很可能是因为IDEA在启动的过程中并没有像"),a("code",[t._v("Gradle")]),t._v("一样做完全的"),a("code",[t._v("build")]),t._v("，只是进行了热更新，没有将需要的Jar包编译到项目里，"),a("code",[t._v("providedCompile")]),t._v(" 和 "),a("code",[t._v("providedRuntime")]),t._v("。虽然它们有各自的"),a("code",[t._v("compile")]),t._v(" 和 "),a("code",[t._v("runtime")]),t._v(" 配置，但这些配置有相同的作用域，只是它们不会添加到 "),a("code",[t._v("war/jar")]),t._v(" 文件中")])])}],!1,null,null,null);n.options.__file="IDEA启动Spring-Boot项目提示Unable-to-start-EmbeddedWebApplicationContext-due-to-missing-EmbeddedServlet.md";e.default=n.exports}}]);