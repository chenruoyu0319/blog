(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{278:function(a,s,t){"use strict";t.r(s);var e=t(0),n=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("div",{staticClass:"content"},[t("h1",{attrs:{id:"docker-常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker-常用命令","aria-hidden":"true"}},[a._v("#")]),a._v(" Docker 常用命令")]),a._v(" "),t("ul",[t("li",[a._v("run")])]),a._v(" "),t("p",[a._v("新建并启动容器")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("// 启动并输出 Hello World\ndocker run ubuntu:14.04 /bin/echo "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'Hello World'")]),a._v("\n\n// 启动 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v(" 终端\ndocker run -t -i ubuntu:14.04 "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n\n\n// 启动一个已终止的容器\ndocker container start myubuntu\n\ndocker run -d ubuntu:14.04 -c\n")])])]),t("p",[t("code",[a._v("-t")]),a._v(" 启动终端并绑定到容器标准输入上\n"),t("code",[a._v("-i")]),a._v(" 保持容器标准输入打开\n"),t("code",[a._v("-c")]),a._v(" 将容器的输出信息输出到宿主机\n"),t("code",[a._v("-d")]),a._v(" 不会将容器的输出输出到宿主机")]),a._v(" "),t("ul",[t("li",[a._v("stop")])]),a._v(" "),t("p",[a._v("停止容器")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker container stop myubuntu\n")])])]),t("ul",[t("li",[a._v("restart")])]),a._v(" "),t("p",[a._v("重启容器")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker container restart myubuntu\n")])])]),t("ul",[t("li",[a._v("attach")])]),a._v(" "),t("p",[a._v("进入容器，可以执行命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker container start myubuntu\ndocker attach myubuntu\n")])])]),t("p",[a._v("此时执行"),t("code",[a._v("exit")]),a._v("会退出容器")]),a._v(" "),t("ul",[t("li",[a._v("exec")])]),a._v(" "),t("p",[a._v("进入容器，可以执行命令，需要带参数\n"),t("code",[a._v("-i")]),a._v(":由于没有分配伪终端，所以不会有命令提示符，但是命令执行结果依然可以返回\n"),t("code",[a._v("-i -t")]),a._v(":可以显示终端")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker container start myubuntu\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("exec")]),a._v(" -i myubuntu "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("exec")]),a._v(" -it myubuntu "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n")])])]),t("p",[a._v("此时执行"),t("code",[a._v("exit")]),a._v("不会退出容器")]),a._v(" "),t("ul",[t("li",[a._v("save")])]),a._v(" "),t("p",[a._v("将镜像保存为归档文件")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker save ubuntu "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("gzip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" ubuntu-last.tar.gz\n")])])]),t("ul",[t("li",[a._v("load")])]),a._v(" "),t("p",[a._v("加载"),t("code",[a._v("save")]),a._v("保存的镜像")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker load -i ubuntu-last.tar.gz\n")])])]),t("p",[a._v("迁移镜像：")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker save "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("镜像名"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("bzip2")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("pv")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ssh")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("用户名"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("@"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("主机名"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'cat | docker load'")]),a._v("\n")])])]),t("ul",[t("li",[a._v("export")])]),a._v(" "),t("p",[a._v("导出容器快照到本地")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("export")]),a._v(" myubuntu "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" myubuntu.tar\n")])])]),t("ul",[t("li",[a._v("import")])]),a._v(" "),t("p",[a._v("导入容器快照到本地")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("// 从网络导入\ndocker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("import")]),a._v("  http://example.com/exampleimage.tgz example/imagerepo\n\n// 从本地导入\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("cat")]),a._v(" myubuntu.tar "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" docker "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("import")]),a._v(" - myubuntu:v1.0\n")])])]),t("ul",[t("li",[a._v("rm")])]),a._v(" "),t("p",[a._v("删除容器或者镜像")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker image "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" myubuntu:v1.0\n\ndocker container "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" myubuntu\n")])])]),t("ul",[t("li",[a._v("prune")])]),a._v(" "),t("p",[a._v("删除所有处于终止状态的容器")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("docker container prune\n")])])])])}],!1,null,null,null);n.options.__file="Docker-常用命令.md";s.default=n.exports}}]);