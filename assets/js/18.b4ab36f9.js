(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{283:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[a("a",{attrs:{href:"https://docs.traefik.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("traefik"),a("OutboundLink")],1),t._v(" 是一个用 Go 开发的适用于微服务的反向代理和负载均衡的网关；可以自动发现并代理服务，可以用 Kubernetes 或 Docker Swarm 等方式，支持使用 Eureka，Consul，Etcd，ZooKeeper 等注册中心")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),a("p",[t._v("这样会启动一个 treafik 的 WebUI 和一个后端服务器")]),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("浏览器访问 "),a("a",{attrs:{href:"http://whoami.docker.localhost",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://whoami.docker.localhost"),a("OutboundLink")],1),t._v("，会返回以下内容")]),t._v(" "),t._m(9),t._m(10),t._v(" "),a("p",[t._v("修改 docker-compose.yml中whoami的访问规则")]),t._v(" "),t._m(11),a("p",[t._v("再次启动")]),t._v(" "),t._m(12),a("p",[t._v("通过浏览器访问 "),a("a",{attrs:{href:"http://localhost/whoami",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost/whoami"),a("OutboundLink")],1),t._v(" 会输出以下内容：")]),t._v(" "),t._m(13),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._m(17),t._v(" "),t._m(18),a("p",[t._v("也可以指定 Header，Host 和 Path 的正则或者其他各种访问规则，具体可以参考官方文档"),a("a",{attrs:{href:"https://docs.traefik.io/basics/#matchers",target:"_blank",rel:"noopener noreferrer"}},[t._v("Matchers"),a("OutboundLink")],1)]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),a("p",[t._v("docker-compose.yml")]),t._v(" "),t._m(21),t._m(22),t._v(" "),t._m(23),a("p",[t._v("启动后访问 "),a("a",{attrs:{href:"http://angular.localhost/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://angular.localhost"),a("OutboundLink")],1)]),t._v(" "),t._m(24)])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"微服务网关-traefik-docker-swarm-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微服务网关-traefik-docker-swarm-使用","aria-hidden":"true"}},[this._v("#")]),this._v(" 微服务网关 Traefik - Docker Swarm 使用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"docker-swarm-使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker-swarm-使用","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker Swarm 使用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"启动官方-demo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#启动官方-demo","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动官方 Demo")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("docker-compose.yml")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("reverse-proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" traefik "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The official Traefik docker image")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docker "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Enables the web UI and tells Traefik to listen to docker")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' "80'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('80"     '),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The HTTP port")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' "8080'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('8080" '),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The Web UI (enabled by --api)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /var/run/docker.sock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/run/docker.sock "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# So that Traefik can listen to the Docker events")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("whoami")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" containous/whoami "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# A container that exposes an API to show its IP address")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.frontend.rule=Host:whoami.docker.localhost"')]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("启动")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker-compose up -d\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://hellowood.oss-cn-beijing.aliyuncs.com/blog/treafik-01.png",alt:"01"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://hellowood.oss-cn-beijing.aliyuncs.com/blog/treafik-02.png",alt:"02"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Hostname: 460d64ac7842\nIP: 127.0.0.1\nIP: 172.22.0.3\nGET / HTTP/1.1\nHost: whoami.docker.localhost\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh,zh-CN;q=0.9,en;q=0.8,en-US;q=0.7\nCache-Control: max-age=0\nUpgrade-Insecure-Requests: 1\nX-Forwarded-For: 172.22.0.1\nX-Forwarded-Host: whoami.docker.localhost\nX-Forwarded-Port: 80\nX-Forwarded-Proto: http\nX-Forwarded-Server: 2d620da469b5\nX-Real-Ip: 172.22.0.1\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"修改访问规则，使用后缀访问"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改访问规则，使用后缀访问","aria-hidden":"true"}},[this._v("#")]),this._v(" 修改访问规则，使用后缀访问")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('version: \'3\'\n\nservices:\n  reverse-proxy:\n    image: traefik # The official Traefik docker image\n    command: --api --docker # Enables the web UI and tells Traefik to listen to docker\n    ports:\n      - "80:80"     # The HTTP port\n      - "8080:8080" # The Web UI (enabled by --api)\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock # So that Traefik can listen to the Docker events\n  whoami:\n    image: containous/whoami # A container that exposes an API to show its IP address\n    labels:\n      - "traefik.frontend.rule=PathPrefixStrip:/whoami"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("docker-compose up -d \n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("Hostname: 9fc59eb66eca\nIP: 127.0.0.1\nIP: 172.22.0.3\nGET / HTTP/1.1\nHost: localhost\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8\nAccept-Encoding: gzip, deflate, br\nAccept-Language: zh,zh-CN;q=0.9,en;q=0.8,en-US;q=0.7\nCookie: XSRF-TOKEN=54b4c46c-68cb-4f05-a8f7-9a2c43aa74e3; JSESSIONID=4A5969048B72F3A0F0122CA901C60445\nUpgrade-Insecure-Requests: 1\nX-Forwarded-For: 172.22.0.1\nX-Forwarded-Host: localhost\nX-Forwarded-Port: 80\nX-Forwarded-Prefix: /whoami\nX-Forwarded-Proto: http\nX-Forwarded-Server: 2d620da469b5\nX-Real-Ip: 172.22.0.1\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h4",{attrs:{id:"指定域名访问"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#指定域名访问","aria-hidden":"true"}},[this._v("#")]),this._v(" 指定域名访问")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("修改 docker-compose.yml")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('version: \'3\'\n\nservices:\n  reverse-proxy:\n    image: traefik # The official Traefik docker image\n    command: --api --docker # Enables the web UI and tells Traefik to listen to docker\n    ports:\n      - "80:80"     # The HTTP port\n      - "8080:8080" # The Web UI (enabled by --api)\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock # So that Traefik can listen to the Docker events\n  whoami:\n    image: containous/whoami # A container that exposes an API to show its IP address\n    labels:\n      - "traefik.frontend.rule=Host:whoami.localhost"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("同时使用域名和后缀")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('version: \'3\'\n\nservices:\n  reverse-proxy:\n    image: traefik # The official Traefik docker image\n    command: --api --docker # Enables the web UI and tells Traefik to listen to docker\n    ports:\n      - "80:80"     # The HTTP port\n      - "8080:8080" # The Web UI (enabled by --api)\n    volumes:\n      - /var/run/docker.sock:/var/run/docker.sock # So that Traefik can listen to the Docker events\n  whoami:\n    image: containous/whoami # A container that exposes an API to show its IP address\n    labels:\n      - "traefik.frontend.rule=Host:whoami.docker.localhost"\n      - "traefik.frontend.rule=PathPrefixStrip:/whoami"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"部署单个应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署单个应用","aria-hidden":"true"}},[this._v("#")]),this._v(" 部署单个应用")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("部署一个使用 MongoDB 作为存储的单体应用")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'3'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("reverse-proxy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" traefik "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The official Traefik docker image")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("command")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("api "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("docker "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Enables the web UI and tells Traefik to listen to docker")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' "80'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('80"     '),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The HTTP port")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(' "8080'),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v('8080" '),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# The Web UI (enabled by --api)")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" /var/run/docker.sock"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/var/run/docker.sock "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# So that Traefik can listen to the Docker events")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("mongo")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" mongo\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"27017:27017"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("angular")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" hellowoodes/angular\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("depends_on")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" \n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" reverse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("proxy\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" mongo\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("expose")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"8081"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("healthcheck")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"CMD"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"curl"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"-f"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://localhost:8081/actuator/health"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("interval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 10s\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("timeout")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 5s\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("retries")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("labels")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.frontend.rule=Host:angular.localhost"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.frontend.rule=PathPrefixStrip:/"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.backend=angular"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.port=8081"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.weight=10"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.enable=true"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.passHostHeader=true"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.docker.network=ntw_front"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.frontend.entryPoints=http"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.backend.loadbalancer.swarm=true"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"traefik.backend.loadbalancer.method=drr"')]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("启动")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[this._v("docker-compose up -d\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("img",{attrs:{src:"https://hellowood.oss-cn-beijing.aliyuncs.com/blog/treafik-03.png",alt:"03"}})])}],!1,null,null,null);n.options.__file="微服务网关-Traefik-Docker-Swarm-使用.md";e.default=n.exports}}]);